import{p as e,J as t,h as n,f as o,y as r,L as i,F as a,i as s,s as l,E as c,g as u,M as d,n as f,N as p,O as h,a as m,e as g,A as v,m as y,j as b,T as w,k as S,P as E,Q as O,H as C,G as x,R as k,S as B,U as T,V as A,W as P}from"./index-3328ecff.js";const R=e=>null!=e,_=e=>"function"==typeof e,j=e=>null!==e&&"object"==typeof e,N=e=>j(e)&&_(e.then)&&_(e.catch),L=e=>"number"==typeof e||/^\d+(\.\d+)?$/.test(e);function D(){}const I=Object.assign,U="undefined"!=typeof window;function z(e,t){const n=t.split(".");let o=e;return n.forEach((e=>{var t;o=j(o)&&null!=(t=o[e])?t:""})),o}function $(e,t,n){return t.reduce(((t,o)=>(n&&void 0===e[o]||(t[o]=e[o]),t)),{})}const M=e=>Array.isArray(e)?e:[e],V=null,F=[Number,String],H={type:Boolean,default:!0},q=e=>({type:F,default:e}),K=e=>({type:String,default:e});var W="undefined"!=typeof window,J=(e,t)=>({top:0,left:0,right:e,bottom:t,width:e,height:t}),X=e=>{const t=c(e);if(t===window){const e=t.innerWidth,n=t.innerHeight;return J(e,n)}return(null==t?void 0:t.getBoundingClientRect)?t.getBoundingClientRect():J(0,0)};function Y(r){const i=e(r,null);if(i){const e=u(),{link:o,unlink:r,internalChildren:a}=i;o(e),t((()=>r(e)));return{parent:i,index:n((()=>a.indexOf(e)))}}return{parent:null,index:o(-1)}}var Z,Q,G=(e,t)=>{const n=e.indexOf(t);return-1===n?e.findIndex((e=>void 0!==t.key&&null!==t.key&&e.type===t.type&&e.key===t.key)):n};function ee(e,t,n){const o=function(e){const t=[],n=e=>{Array.isArray(e)&&e.forEach((e=>{var o;h(e)&&(t.push(e),(null==(o=e.component)?void 0:o.subTree)&&(t.push(e.component.subTree),n(e.component.subTree.children)),e.children&&n(e.children))}))};return n(e),t}(e.subTree.children);n.sort(((e,t)=>G(o,e.vnode)-G(o,t.vnode)));const r=n.map((e=>e.proxy));t.sort(((e,t)=>r.indexOf(e)-r.indexOf(t)))}function te(e){const t=r([]),n=r([]),o=u();return{children:t,linkChildren:r=>{d(e,Object.assign({link:e=>{e.proxy&&(n.push(e),t.push(e.proxy),ee(o,t,n))},unlink:e=>{const o=n.indexOf(e);t.splice(o,1),n.splice(o,1)},children:t,internalChildren:n},r))}}}function ne(e){let t;l((()=>{e(),f((()=>{t=!0}))})),p((()=>{t&&e()}))}function oe(e,n,o={}){if(!W)return;const{target:r=window,passive:l=!1,capture:u=!1}=o;let d,f=!1;const p=t=>{if(f)return;const o=c(t);o&&!d&&(o.addEventListener(e,n,{capture:u,passive:l}),d=!0)},h=t=>{if(f)return;const o=c(t);o&&d&&(o.removeEventListener(e,n,u),d=!1)};let m;return t((()=>h(r))),i((()=>h(r))),ne((()=>p(r))),a(r)&&(m=s(r,((e,t)=>{h(t),p(e)}))),()=>{null==m||m(),h(r),f=!0}}var re=/scroll|auto|overlay/i,ie=W?window:void 0;function ae(e){return"HTML"!==e.tagName&&"BODY"!==e.tagName&&1===e.nodeType}function se(e,t=ie){let n=e;for(;n&&n!==t&&ae(n);){const{overflowY:e}=window.getComputedStyle(n);if(re.test(e))return n;n=n.parentNode}return t}function le(e,t=ie){const n=o();return l((()=>{e.value&&(n.value=se(e.value,t))})),n}var ce=Symbol("van-field");function ue(e,t){"scrollTop"in e?e.scrollTop=t:e.scrollTo(e.scrollX,t)}function de(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function fe(e){ue(window,e),ue(document.body,e)}const pe=!!U&&/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase());function he(e,t){("boolean"!=typeof e.cancelable||e.cancelable)&&e.preventDefault(),t&&(e=>{e.stopPropagation()})(e)}function me(e){const t=c(e);if(!t)return!1;const n=window.getComputedStyle(t),o="none"===n.display,r=null===t.offsetParent&&"fixed"!==n.position;return o||r}function ge(e){if(R(e))return L(e)?`${e}px`:String(e)}!function(){if(!Z&&(Z=o(0),Q=o(0),W)){const e=()=>{Z.value=window.innerWidth,Q.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}}();const ve=/-(\w)/g,ye=e=>e.replace(ve,((e,t)=>t.toUpperCase()));function be(e,t,n){const o=e.indexOf(t);return-1===o?e:"-"===t&&0!==o?e.slice(0,o):e.slice(0,o+1)+e.slice(o).replace(n,"")}const{hasOwnProperty:we}=Object.prototype;function Se(e,t){return Object.keys(t).forEach((n=>{!function(e,t,n){const o=t[n];R(o)&&(we.call(e,n)&&j(o)?e[n]=Se(Object(e[n]),o):e[n]=o)}(e,t,n)})),e}const Ee=o("zh-CN"),Oe=r({"zh-CN":{name:"姓名",tel:"电话",save:"保存",confirm:"确认",cancel:"取消",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",addContact:"添加联系人",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",weekdays:["日","一","二","三","四","五","六"],monthTitle:(e,t)=>`${e}年${t}月`,rangePrompt:e=>`最多选择 ${e} 天`},vanCascader:{select:"请选择"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计:"},vanCoupon:{unlimited:"无门槛",discount:e=>`${e}折`,condition:e=>`满${e}元可用`},vanCouponCell:{title:"优惠券",count:e=>`${e}张可用`},vanCouponList:{exchange:"兑换",close:"不使用",enable:"可用",disabled:"不可用",placeholder:"输入优惠码"},vanAddressEdit:{area:"地区",postal:"邮政编码",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",postalEmpty:"邮政编码不正确",addressDetail:"详细地址",defaultAddress:"设为默认收货地址"},vanAddressList:{add:"新增地址"}}});var Ce={messages:()=>Oe[Ee.value],use(e,t){Ee.value=e,this.add({[e]:t})},add(e={}){Se(Oe,e)}};function xe(e){const t=ye(e)+".";return(e,...n)=>{const o=Ce.messages(),r=z(o,t+e)||z(o,e);return _(r)?r(...n):r}}function ke(e,t){return t?"string"==typeof t?` ${e}--${t}`:Array.isArray(t)?t.reduce(((t,n)=>t+ke(e,n)),""):Object.keys(t).reduce(((n,o)=>n+(t[o]?ke(e,o):"")),""):""}function Be(e){return(t,n)=>(t&&"string"!=typeof t&&(n=t,t=""),`${t=t?`${e}__${t}`:e}${ke(t,n)}`)}function Te(e){const t=`van-${e}`;return[t,Be(t),xe(t)]}const Ae="van-hairline",Pe=`${Ae}--top`,Re=`${Ae}--left`,_e=`${Ae}--surround`,je=`${Ae}--top-bottom`,Ne=Symbol("van-form");function Le(e,{args:t=[],done:n,canceled:o}){if(e){const r=e.apply(null,t);N(r)?r.then((e=>{e?n():o&&o()})).catch(D):r?n():o&&o()}else n()}function De(e){return e.install=t=>{const{name:n}=e;n&&(t.component(n,e),t.component(ye(`-${n}`),e))},e}const Ie=Symbol();const Ue=(t,n)=>{const r=o(),i=()=>{r.value=X(t).height};return l((()=>{if(f(i),n)for(let e=1;e<=3;e++)setTimeout(i,100*e)})),function(t){const n=e(Ie,null);n&&s(n,(e=>{e&&t()}))}((()=>f(i))),r};const[ze,$e]=Te("action-bar"),Me=Symbol(ze);const Ve=De(g({name:ze,props:{placeholder:Boolean,safeAreaInsetBottom:H},setup(e,{slots:t}){const n=o(),r=function(e,t){const n=Ue(e,!0);return e=>m("div",{class:t("placeholder"),style:{height:n.value?`${n.value}px`:void 0}},[e()])}(n,$e),{linkChildren:i}=te(Me);i();const a=()=>{var o;return m("div",{ref:n,class:[$e(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[null==(o=t.default)?void 0:o.call(t)])};return()=>e.placeholder?r(a):a()}}));function Fe(e){const t=u();t&&I(t.proxy,e)}const He={to:[String,Object],url:String,replace:Boolean};function qe(){const e=u().proxy;return()=>function({to:e,url:t,replace:n,$router:o}){e&&o?o[n?"replace":"push"](e):t&&(n?location.replace(t):location.href=t)}(e)}const[Ke,We]=Te("badge");const Je=De(g({name:Ke,props:{dot:Boolean,max:F,tag:K("div"),color:String,offset:Array,content:F,showZero:H,position:K("top-right")},setup(e,{slots:t}){const o=()=>{if(t.content)return!0;const{content:n,showZero:o}=e;return R(n)&&""!==n&&(o||0!==n&&"0"!==n)},r=()=>{const{dot:n,max:r,content:i}=e;if(!n&&o())return t.content?t.content():R(r)&&L(i)&&+i>r?`${r}+`:i},i=n((()=>{const n={background:e.color};if(e.offset){const[o,r]=e.offset;t.default?(n.top=ge(r),n.right="number"==typeof o?ge(-o):o.startsWith("-")?o.replace("-",""):`-${o}`):(n.marginTop=ge(r),n.marginLeft=ge(o))}return n})),a=()=>{if(o()||e.dot)return m("div",{class:We([e.position,{dot:e.dot,fixed:!!t.default}]),style:i.value},[r()])};return()=>{if(t.default){const{tag:n}=e;return m(n,{class:We("wrapper")},{default:()=>[t.default(),a()]})}return a()}}}));let Xe=2e3;const[Ye,Ze]=Te("config-provider"),Qe=Symbol(Ye);g({name:Ye,props:{tag:K("div"),zIndex:Number,themeVars:Object,iconPrefix:String},setup(e,{slots:t}){const o=n((()=>{if(e.themeVars)return function(e){const t={};return Object.keys(e).forEach((n=>{var o;t[`--van-${o=n,o.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,"")}`]=e[n]})),t}(e.themeVars)}));return d(Qe,e),v((()=>{var t;void 0!==e.zIndex&&(t=e.zIndex,Xe=t)})),()=>m(e.tag,{class:Ze(),style:o.value},{default:()=>{var e;return[null==(e=t.default)?void 0:e.call(t)]}})}});const[Ge,et]=Te("icon");const tt=De(g({name:Ge,props:{dot:Boolean,tag:K("i"),name:String,size:F,badge:F,color:String,badgeProps:Object,classPrefix:String},setup(t,{slots:o}){const r=e(Qe,null),i=n((()=>t.classPrefix||(null==r?void 0:r.iconPrefix)||et()));return()=>{const{tag:e,dot:n,name:r,size:a,badge:s,color:l}=t,c=(e=>null==e?void 0:e.includes("/"))(r);return m(Je,y({dot:n,tag:e,class:[i.value,c?"":`${i.value}-${r}`],style:{color:l,fontSize:ge(a)},content:s},t.badgeProps),{default:()=>{var e;return[null==(e=o.default)?void 0:e.call(o),c&&m("img",{class:et("image"),src:r},null)]}})}}})),[nt,ot]=Te("loading"),rt=Array(12).fill(null).map(((e,t)=>m("i",{class:ot("line",String(t+1))},null))),it=m("svg",{class:ot("circular"),viewBox:"25 25 50 50"},[m("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]);const at=De(g({name:nt,props:{size:F,type:K("circular"),color:String,vertical:Boolean,textSize:F,textColor:String},setup(e,{slots:t}){const o=n((()=>I({color:e.color},function(e){if(R(e)){if(Array.isArray(e))return{width:ge(e[0]),height:ge(e[1])};const t=ge(e);return{width:t,height:t}}}(e.size)))),r=()=>{var n;if(t.default)return m("span",{class:ot("text"),style:{fontSize:ge(e.textSize),color:null!=(n=e.textColor)?n:e.color}},[t.default()])};return()=>{const{type:t,vertical:n}=e;return m("div",{class:ot([t,{vertical:n}]),"aria-live":"polite","aria-busy":!0},[m("span",{class:ot("spinner",t),style:o.value},["spinner"===t?rt:it]),r()])}}})),[st,lt]=Te("button");const ct=De(g({name:st,props:I({},He,{tag:K("button"),text:String,icon:String,type:K("default"),size:K("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:K("button"),loadingSize:F,loadingText:String,loadingType:String,iconPosition:K("left")}),emits:["click"],setup(e,{emit:t,slots:n}){const o=qe(),r=()=>e.loading?n.loading?n.loading():m(at,{size:e.loadingSize,type:e.loadingType,class:lt("loading")},null):n.icon?m("div",{class:lt("icon")},[n.icon()]):e.icon?m(tt,{name:e.icon,class:lt("icon"),classPrefix:e.iconPrefix},null):void 0,i=()=>{let t;if(t=e.loading?e.loadingText:n.default?n.default():e.text,t)return m("span",{class:lt("text")},[t])},a=()=>{const{color:t,plain:n}=e;if(t){const e={color:n?t:"white"};return n||(e.background=t),t.includes("gradient")?e.border=0:e.borderColor=t,e}},s=n=>{e.loading?he(n):e.disabled||(t("click",n),o())};return()=>{const{tag:t,type:n,size:o,block:l,round:c,plain:u,square:d,loading:f,disabled:p,hairline:h,nativeType:g,iconPosition:v}=e,y=[lt([n,o,{plain:u,block:l,round:c,square:d,loading:f,disabled:p,hairline:h}]),{[_e]:h}];return m(t,{type:g,class:y,style:a(),disabled:p,onClick:s},{default:()=>[m("div",{class:lt("content")},["left"===v&&r(),i(),"right"===v&&r()])]})}}})),[ut,dt]=Te("action-bar-button");const ft=De(g({name:ut,props:I({},He,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean}),setup(e,{slots:t}){const o=qe(),{parent:r,index:i}=Y(Me),a=n((()=>{if(r){const e=r.children[i.value-1];return!(e&&"isButton"in e)}})),s=n((()=>{if(r){const e=r.children[i.value+1];return!(e&&"isButton"in e)}}));return Fe({isButton:!0}),()=>{const{type:n,icon:r,text:i,color:l,loading:c,disabled:u}=e;return m(ct,{class:dt([n,{last:s.value,first:a.value}]),size:"large",type:n,icon:r,color:l,loading:c,disabled:u,onClick:o},{default:()=>[t.default?t.default():i]})}}})),pt={show:Boolean,zIndex:F,overlay:H,duration:F,teleport:[String,Object],lockScroll:H,lazyRender:H,beforeClose:Function,overlayStyle:Object,overlayClass:null,transitionAppear:Boolean,closeOnClickOverlay:H},ht=Object.keys(pt);let mt=0;function gt(e,t){const n=function(){const e=o(0),t=o(0),n=o(0),r=o(0),i=o(0),a=o(0),s=o(""),l=()=>{n.value=0,r.value=0,i.value=0,a.value=0,s.value=""};return{move:o=>{const l=o.touches[0];var c,u;n.value=(l.clientX<0?0:l.clientX)-e.value,r.value=l.clientY-t.value,i.value=Math.abs(n.value),a.value=Math.abs(r.value),(!s.value||i.value<10&&a.value<10)&&(s.value=(c=i.value)>(u=a.value)?"horizontal":u>c?"vertical":"")},start:n=>{l(),e.value=n.touches[0].clientX,t.value=n.touches[0].clientY},reset:l,startX:e,startY:t,deltaX:n,deltaY:r,offsetX:i,offsetY:a,direction:s,isVertical:()=>"vertical"===s.value,isHorizontal:()=>"horizontal"===s.value}}(),r=t=>{n.move(t);const o=n.deltaY.value>0?"10":"01",r=se(t.target,e.value),{scrollHeight:i,offsetHeight:a,scrollTop:s}=r;let l="11";0===s?l=a>=i?"00":"01":s+a>=i&&(l="10"),"11"===l||!n.isVertical()||parseInt(l,2)&parseInt(o,2)||he(t,!0)},a=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",r,{passive:!1}),mt||document.body.classList.add("van-overflow-hidden"),mt++},l=()=>{mt&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",r),mt--,mt||document.body.classList.remove("van-overflow-hidden"))},c=()=>t()&&l();ne((()=>t()&&a())),i(c),b(c),s(t,(e=>{e?a():l()}))}function vt(e){const t=o(!1);return s(e,(e=>{e&&(t.value=e)}),{immediate:!0}),e=>()=>t.value?e():null}const[yt,bt]=Te("overlay");const wt=De(g({name:yt,props:{show:Boolean,zIndex:F,duration:F,className:null,lockScroll:H,lazyRender:H,customStyle:Object},setup(e,{slots:t}){const n=o(),r=vt((()=>e.show||!e.lazyRender))((()=>{var o;const r=I(function(e){const t={};return void 0!==e&&(t.zIndex=+e),t}(e.zIndex),e.customStyle);return R(e.duration)&&(r.animationDuration=`${e.duration}s`),S(m("div",{ref:n,style:r,class:[bt(),e.className]},[null==(o=t.default)?void 0:o.call(t)]),[[E,e.show]])}));return oe("touchmove",(t=>{e.lockScroll&&he(t,!0)}),{target:n}),()=>m(w,{name:"van-fade",appear:!0},{default:r})}})),St=I({},pt,{round:Boolean,position:K("center"),closeIcon:K("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:K("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[Et,Ot]=Te("popup");const Ct=De(g({name:Et,inheritAttrs:!1,props:St,emits:["open","close","opened","closed","keydown","update:show","click-overlay","click-close-icon"],setup(e,{emit:t,attrs:r,slots:a}){let c,u;const h=o(),g=o(),v=vt((()=>e.show||!e.lazyRender)),b=n((()=>{const t={zIndex:h.value};if(R(e.duration)){t["center"===e.position?"animationDuration":"transitionDuration"]=`${e.duration}s`}return t})),x=()=>{c||(c=!0,h.value=void 0!==e.zIndex?+e.zIndex:++Xe,t("open"))},k=()=>{c&&Le(e.beforeClose,{done(){c=!1,t("close"),t("update:show",!1)}})},B=n=>{t("click-overlay",n),e.closeOnClickOverlay&&k()},T=()=>{if(e.overlay)return m(wt,{show:e.show,class:e.overlayClass,zIndex:h.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0,onClick:B},{default:a["overlay-content"]})},A=e=>{t("click-close-icon",e),k()},P=()=>{if(e.closeable)return m(tt,{role:"button",tabindex:0,name:e.closeIcon,class:[Ot("close-icon",e.closeIconPosition),"van-haptics-feedback"],classPrefix:e.iconPrefix,onClick:A},null)},_=()=>t("opened"),j=()=>t("closed"),N=e=>t("keydown",e),L=v((()=>{var t;const{round:n,position:o,safeAreaInsetTop:i,safeAreaInsetBottom:s}=e;return S(m("div",y({ref:g,style:b.value,role:"dialog",tabindex:0,class:[Ot({round:n,[o]:o}),{"van-safe-area-top":i,"van-safe-area-bottom":s}],onKeydown:N},r),[null==(t=a.default)?void 0:t.call(a),P()]),[[E,e.show]])})),D=()=>{const{position:t,transition:n,transitionAppear:o}=e;return m(w,{name:n||("center"===t?"van-fade":`van-popup-slide-${t}`),appear:o,onAfterEnter:_,onAfterLeave:j},{default:L})};return s((()=>e.show),(e=>{e&&!c&&(x(),0===r.tabindex&&f((()=>{var e;null==(e=g.value)||e.focus()}))),!e&&c&&(c=!1,t("close"))})),Fe({popupRef:g}),gt(g,(()=>e.show&&e.lockScroll)),oe("popstate",(()=>{e.closeOnPopstate&&(k(),u=!1)})),l((()=>{e.show&&x()})),p((()=>{u&&(t("update:show",!0),u=!1)})),i((()=>{e.show&&e.teleport&&(k(),u=!0)})),d(Ie,(()=>e.show)),()=>e.teleport?m(O,{to:e.teleport},{default:()=>[T(),D()]}):m(C,null,[T(),D()])}})),[xt,kt]=Te("cell"),Bt={icon:String,size:String,title:F,value:F,label:F,center:Boolean,isLink:Boolean,border:H,required:Boolean,iconPrefix:String,valueClass:null,labelClass:null,titleClass:null,titleStyle:null,arrowDirection:String,clickable:{type:Boolean,default:null}};const Tt=De(g({name:xt,props:I({},Bt,He),setup(e,{slots:t}){const n=qe(),o=()=>{if(t.label||R(e.label))return m("div",{class:[kt("label"),e.labelClass]},[t.label?t.label():e.label])},r=()=>{if(t.title||R(e.title))return m("div",{class:[kt("title"),e.titleClass],style:e.titleStyle},[t.title?t.title():m("span",null,[e.title]),o()])},i=()=>{const n=t.value||t.default;if(n||R(e.value)){const o=t.title||R(e.title);return m("div",{class:[kt("value",{alone:!o}),e.valueClass]},[n?n():m("span",null,[e.value])])}},a=()=>{if(t["right-icon"])return t["right-icon"]();if(e.isLink){const t=e.arrowDirection&&"right"!==e.arrowDirection?`arrow-${e.arrowDirection}`:"arrow";return m(tt,{name:t,class:kt("right-icon")},null)}};return()=>{var o,s;const{size:l,center:c,border:u,isLink:d,required:f}=e,p=null!=(o=e.clickable)?o:d,h={center:c,required:f,clickable:p,borderless:!u};return l&&(h[l]=!!l),m("div",{class:kt(h),role:p?"button":void 0,tabindex:p?0:void 0,onClick:n},[t.icon?t.icon():e.icon?m(tt,{name:e.icon,class:kt("left-icon"),classPrefix:e.iconPrefix},null):void 0,r(),i(),a(),null==(s=t.extra)?void 0:s.call(t)])}}})),[At,Pt]=Te("form");const Rt=De(g({name:At,props:{colon:Boolean,disabled:Boolean,readonly:Boolean,showError:Boolean,labelWidth:F,labelAlign:String,inputAlign:String,scrollToError:Boolean,validateFirst:Boolean,submitOnEnter:H,showErrorMessage:H,errorMessageAlign:String,validateTrigger:{type:[String,Array],default:"onBlur"}},emits:["submit","failed"],setup(e,{emit:t,slots:n}){const{children:o,linkChildren:r}=te(Ne),i=e=>e?o.filter((t=>e.includes(t.name))):o,a=t=>{return"string"==typeof t?(e=>{const t=o.find((t=>t.name===e));return t?new Promise(((e,n)=>{t.validate().then((t=>{t?n(t):e()}))})):Promise.reject()})(t):e.validateFirst?(n=t,new Promise(((e,t)=>{const o=[];i(n).reduce(((e,t)=>e.then((()=>{if(!o.length)return t.validate().then((e=>{e&&o.push(e)}))}))),Promise.resolve()).then((()=>{o.length?t(o):e()}))}))):(e=>new Promise(((t,n)=>{const o=i(e);Promise.all(o.map((e=>e.validate()))).then((e=>{(e=e.filter(Boolean)).length?n(e):t()}))})))(t);var n},s=(e,t)=>{o.some((n=>n.name===e&&(n.$el.scrollIntoView(t),!0)))},l=()=>o.reduce(((e,t)=>(e[t.name]=t.formValue.value,e)),{}),c=()=>{const n=l();a().then((()=>t("submit",n))).catch((o=>{t("failed",{values:n,errors:o}),e.scrollToError&&o[0].name&&s(o[0].name)}))},u=e=>{he(e),c()};return r({props:e}),Fe({submit:c,validate:a,getValues:l,scrollToField:s,resetValidation:e=>{"string"==typeof e&&(e=[e]);i(e).forEach((e=>{e.resetValidation()}))},getValidationStatus:()=>o.reduce(((e,t)=>(e[t.name]=t.getValidationStatus(),e)),{})}),()=>{var e;return m("form",{class:Pt(),onSubmit:u},[null==(e=n.default)?void 0:e.call(n)])}}}));function _t(e){return Array.isArray(e)?!e.length:0!==e&&!e}function jt(e,t){const{message:n}=t;return _(n)?n(e,t):n||""}function Nt({target:e}){e.composing=!0}function Lt({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function Dt(e){return[...e].length}function It(e,t){return[...e].slice(0,t).join("")}const[Ut,zt]=Te("field"),$t={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:F,formatter:Function,clearIcon:K("clear"),modelValue:q(""),inputAlign:String,placeholder:String,autocomplete:String,errorMessage:String,enterkeyhint:String,clearTrigger:K("focus"),formatTrigger:K("onChange"),error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}};const Mt=De(g({name:Ut,props:I({},Bt,$t,{rows:F,type:K("text"),rules:Array,autosize:[Boolean,Object],labelWidth:F,labelClass:null,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}}),emits:["blur","focus","clear","keypress","click-input","end-validate","start-validate","click-left-icon","click-right-icon","update:modelValue"],setup(e,{emit:t,slots:i}){const a=function(){const e=u(),{name:t="unknown"}=(null==e?void 0:e.type)||{};return t}(),c=r({status:"unvalidated",focused:!1,validateMessage:""}),p=o(),h=o(),g=o(),{parent:v}=Y(Ne),b=()=>{var t;return String(null!=(t=e.modelValue)?t:"")},w=t=>R(e[t])?e[t]:v&&R(v.props[t])?v.props[t]:void 0,S=n((()=>{const t=w("readonly");if(e.clearable&&!t){const t=""!==b(),n="always"===e.clearTrigger||"focus"===e.clearTrigger&&c.focused;return t&&n}return!1})),E=n((()=>g.value&&i.input?g.value():e.modelValue)),O=e=>e.reduce(((e,t)=>e.then((()=>{if("failed"===c.status)return;let{value:e}=E;if(t.formatter&&(e=t.formatter(e,t)),!function(e,t){if(_t(e)){if(t.required)return!1;if(!1===t.validateEmpty)return!0}return!(t.pattern&&!t.pattern.test(String(e)))}(e,t))return c.status="failed",void(c.validateMessage=jt(e,t));if(t.validator){if(_t(e)&&!1===t.validateEmpty)return;return function(e,t){return new Promise((n=>{const o=t.validator(e,t);N(o)?o.then(n):n(o)}))}(e,t).then((n=>{n&&"string"==typeof n?(c.status="failed",c.validateMessage=n):!1===n&&(c.status="failed",c.validateMessage=jt(e,t))}))}}))),Promise.resolve()),C=()=>{c.status="unvalidated",c.validateMessage=""},k=()=>t("end-validate",{status:c.status}),B=(n=e.rules)=>new Promise((o=>{C(),n?(t("start-validate"),O(n).then((()=>{"failed"===c.status?(o({name:e.name,message:c.validateMessage}),k()):(c.status="passed",o(),k())}))):o()})),T=t=>{if(v&&e.rules){const{validateTrigger:n}=v.props,o=M(n).includes(t),r=e.rules.filter((e=>e.trigger?M(e.trigger).includes(t):o));r.length&&B(r)}},A=(n,o="onChange")=>{const r=n;n=(t=>{var n;const{maxlength:o}=e;if(R(o)&&Dt(t)>o){const e=b();if(e&&Dt(e)===+o)return e;const r=null==(n=p.value)?void 0:n.selectionEnd;if(c.focused&&r){const e=[...t],n=e.length-+o;return e.splice(r-n,n),e.join("")}return It(t,+o)}return t})(n);const i=Dt(r)-Dt(n);if("number"===e.type||"digit"===e.type){const t="number"===e.type;n=function(e,t=!0,n=!0){e=t?be(e,".",/\./g):e.split(".")[0];const o=t?/[^-0-9.]/g:/[^-0-9]/g;return(e=n?be(e,"-",/-/g):e.replace(/-/,"")).replace(o,"")}(n,t,t)}let a=0;if(e.formatter&&o===e.formatTrigger){const{formatter:t,maxlength:o}=e;if(n=t(n),R(o)&&Dt(n)>o&&(n=It(n,+o)),p.value&&c.focused){const{selectionEnd:e}=p.value,n=It(r,e);a=Dt(t(n))-Dt(n)}}if(p.value&&p.value.value!==n)if(c.focused){let{selectionStart:e,selectionEnd:t}=p.value;if(p.value.value=n,R(e)&&R(t)){const o=Dt(n);i?(e-=i,t-=i):a&&(e+=a,t+=a),p.value.setSelectionRange(Math.min(e,o),Math.min(t,o))}}else p.value.value=n;n!==e.modelValue&&t("update:modelValue",n)},P=e=>{e.target.composing||A(e.target.value)},_=()=>{var e;return null==(e=p.value)?void 0:e.blur()},L=()=>{const t=p.value;"textarea"===e.type&&e.autosize&&t&&function(e,t){const n=de();e.style.height="auto";let o=e.scrollHeight;if(j(t)){const{maxHeight:e,minHeight:n}=t;void 0!==e&&(o=Math.min(o,e)),void 0!==n&&(o=Math.max(o,n))}o&&(e.style.height=`${o}px`,fe(n))}(t,e.autosize)},D=e=>{c.focused=!0,t("focus",e),f(L),w("readonly")&&_()},I=e=>{w("readonly")||(c.focused=!1,A(b(),"onBlur"),t("blur",e),T("onBlur"),f(L),pe&&fe(de()))},U=e=>t("click-input",e),z=e=>t("click-left-icon",e),$=e=>t("click-right-icon",e),V=n((()=>"boolean"==typeof e.error?e.error:!(!v||!v.props.showError||"failed"!==c.status)||void 0)),F=n((()=>{const e=w("labelWidth");if(e)return{width:ge(e)}})),H=n=>{if(13===n.keyCode){v&&v.props.submitOnEnter||"textarea"===e.type||he(n),"search"===e.type&&_()}t("keypress",n)},q=()=>e.id||`${a}-input`,K=()=>{const t=zt("control",[w("inputAlign"),{error:V.value,custom:!!i.input,"min-height":"textarea"===e.type&&!e.autosize}]);if(i.input)return m("div",{class:t,onClick:U},[i.input()]);const n={id:q(),ref:p,name:e.name,rows:void 0!==e.rows?+e.rows:void 0,class:t,disabled:w("disabled"),readonly:w("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,enterkeyhint:e.enterkeyhint,"aria-labelledby":e.label?`${a}-label`:void 0,onBlur:I,onFocus:D,onInput:P,onClick:U,onChange:Lt,onKeypress:H,onCompositionend:Lt,onCompositionstart:Nt};return"textarea"===e.type?m("textarea",n,null):m("input",y("number"===(o=e.type)?{type:"text",inputmode:"decimal"}:"digit"===o?{type:"tel",inputmode:"numeric"}:{type:o},n),null);var o},W=()=>{const t=i["right-icon"];if(e.rightIcon||t)return m("div",{class:zt("right-icon"),onClick:$},[t?t():m(tt,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},J=()=>{if(e.showWordLimit&&e.maxlength){const t=Dt(b());return m("div",{class:zt("word-limit")},[m("span",{class:zt("word-num")},[t]),x("/"),e.maxlength])}},X=()=>{if(v&&!1===v.props.showErrorMessage)return;const t=e.errorMessage||c.validateMessage;if(t){const e=i["error-message"],n=w("errorMessageAlign");return m("div",{class:zt("error-message",n)},[e?e({message:t}):t])}},Z=()=>[m("div",{class:zt("body")},[K(),S.value&&m(tt,{ref:h,name:e.clearIcon,class:zt("clear")},null),W(),i.button&&m("div",{class:zt("button")},[i.button()])]),J(),X()];return Fe({blur:_,focus:()=>{var e;return null==(e=p.value)?void 0:e.focus()},validate:B,formValue:E,resetValidation:C,getValidationStatus:()=>c.status}),d(ce,{customValue:g,resetValidation:C,validateWithTrigger:T}),s((()=>e.modelValue),(()=>{A(b()),C(),T("onChange"),f(L)})),l((()=>{A(b(),e.formatTrigger),f(L)})),oe("touchstart",(e=>{he(e),t("update:modelValue",""),t("clear",e)}),{target:n((()=>{var e;return null==(e=h.value)?void 0:e.$el}))}),()=>{const t=w("disabled"),n=w("labelAlign"),o=(()=>{const t=w("colon")?":":"";return i.label?[i.label(),t]:e.label?m("label",{id:`${a}-label`,for:q()},[e.label+t]):void 0})(),r=(()=>{const t=i["left-icon"];if(e.leftIcon||t)return m("div",{class:zt("left-icon"),onClick:z},[t?t():m(tt,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])})();return m(Tt,{size:e.size,icon:e.leftIcon,class:zt({error:V.value,disabled:t,[`label-${n}`]:n}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:F.value,valueClass:zt("value"),titleClass:[zt("label",[n,{required:e.required}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:r?()=>r:null,title:o?()=>o:null,value:Z,extra:i.extra})}}}));function Vt(){const e=r({show:!1}),t=t=>{e.show=t},n=n=>{I(e,n,{transitionAppear:!0}),t(!0)},o=()=>t(!1);return Fe({open:n,close:o,toggle:t}),{open:n,close:o,state:e,toggle:t}}function Ft(e){const t=k(e),n=document.createElement("div");return document.body.appendChild(n),{instance:t.mount(n),unmount(){t.unmount(),document.body.removeChild(n)}}}let Ht=0;const[qt,Kt]=Te("toast"),Wt=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay"];var Jt,Xt=g({name:qt,props:{icon:String,show:Boolean,type:K("text"),overlay:Boolean,message:F,iconSize:F,duration:(Jt=2e3,{type:Number,default:Jt}),position:K("middle"),teleport:[String,Object],className:null,iconPrefix:String,transition:K("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:null,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean},emits:["update:show"],setup(e,{emit:n}){let o,r=!1;const i=()=>{const t=e.show&&e.forbidClick;r!==t&&(r=t,r?(Ht||document.body.classList.add("van-toast--unclickable"),Ht++):Ht&&(Ht--,Ht||document.body.classList.remove("van-toast--unclickable")))},a=e=>n("update:show",e),c=()=>{e.closeOnClick&&a(!1)},u=()=>clearTimeout(o),d=()=>{const{icon:t,type:n,iconSize:o,iconPrefix:r,loadingType:i}=e;return t||"success"===n||"fail"===n?m(tt,{name:t||n,size:o,class:Kt("icon"),classPrefix:r},null):"loading"===n?m(at,{class:Kt("loading"),size:o,type:i},null):void 0},f=()=>{const{type:t,message:n}=e;if(R(n)&&""!==n)return"html"===t?m("div",{key:0,class:Kt("text"),innerHTML:String(n)},null):m("div",{class:Kt("text")},[n])};return s((()=>[e.show,e.forbidClick]),i),s((()=>[e.show,e.type,e.message,e.duration]),(()=>{u(),e.show&&e.duration>0&&(o=setTimeout((()=>{a(!1)}),e.duration))})),l(i),t(i),()=>m(Ct,y({class:[Kt([e.position,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:c,onClosed:u,"onUpdate:show":a},$(e,Wt)),{default:()=>[d(),f()]})}});const Yt={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let Zt=[],Qt=!1,Gt=I({},Yt);const en=new Map;function tn(e){return j(e)?e:{message:e}}function nn(){if(!Zt.length||Qt){const e=function(){const{instance:e,unmount:t}=Ft({setup(){const n=o(""),{open:r,state:i,close:a,toggle:l}=Vt(),c=()=>{Qt&&(Zt=Zt.filter((t=>t!==e)),t())};return s(n,(e=>{i.message=e})),u().render=()=>m(Xt,y(i,{onClosed:c,"onUpdate:show":l}),null),{open:r,clear:a,message:n}}});return e}();Zt.push(e)}return Zt[Zt.length-1]}function on(e={}){if(!U)return{};const t=nn(),n=tn(e);return t.open(I({},Gt,en.get(n.type||Gt.type),n)),t}const rn=e=>t=>on(I({type:e},tn(t)));on.loading=rn("loading"),on.success=rn("success"),on.fail=rn("fail"),on.clear=e=>{var t;Zt.length&&(e?(Zt.forEach((e=>{e.clear()})),Zt=[]):Qt?null==(t=Zt.shift())||t.clear():Zt[0].clear())},on.setDefaultOptions=function(e,t){"string"==typeof e?en.set(e,t):I(Gt,e)},on.resetDefaultOptions=e=>{"string"==typeof e?en.delete(e):(Gt=I({},Yt),en.clear())},on.allowMultiple=(e=!0)=>{Qt=e},on.install=e=>{e.use(De(Xt)),e.config.globalProperties.$toast=on};const[an,sn,ln]=Te("dialog"),cn=I({},pt,{title:String,theme:String,width:F,message:[String,Function],callback:Function,allowHtml:Boolean,className:null,transition:K("van-dialog-bounce"),messageAlign:String,closeOnPopstate:H,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:H,closeOnClickOverlay:Boolean}),un=[...ht,"transition","closeOnPopstate"];var dn=g({name:an,props:cn,emits:["confirm","cancel","keydown","update:show"],setup(e,{emit:t,slots:n}){const i=o(),a=r({confirm:!1,cancel:!1}),s=e=>t("update:show",e),l=t=>{var n;s(!1),null==(n=e.callback)||n.call(e,t)},c=n=>()=>{e.show&&(t(n),e.beforeClose?(a[n]=!0,Le(e.beforeClose,{args:[n],done(){l(n),a[n]=!1},canceled(){a[n]=!1}})):l(n))},u=c("cancel"),d=c("confirm"),f=B((n=>{var o,r;if(n.target!==(null==(r=null==(o=i.value)?void 0:o.popupRef)?void 0:r.value))return;({Enter:e.showConfirmButton?d:D,Escape:e.showCancelButton?u:D})[n.key](),t("keydown",n)}),["enter","esc"]),p=()=>{const t=n.title?n.title():e.title;if(t)return m("div",{class:sn("header",{isolated:!e.message&&!n.default})},[t])},h=t=>{const{message:n,allowHtml:o,messageAlign:r}=e,i=sn("message",{"has-title":t,[r]:r}),a=_(n)?n():n;return o&&"string"==typeof a?m("div",{class:i,innerHTML:a},null):m("div",{class:i},[a])},g=()=>{if(n.default)return m("div",{class:sn("content")},[n.default()]);const{title:t,message:o,allowHtml:r}=e;if(o){const e=!(!t&&!n.title);return m("div",{key:r?1:0,class:sn("content",{isolated:!e})},[h(e)])}},v=()=>n.footer?n.footer():"round-button"===e.theme?m(Ve,{class:sn("footer")},{default:()=>[e.showCancelButton&&m(ft,{type:"warning",text:e.cancelButtonText||ln("cancel"),class:sn("cancel"),color:e.cancelButtonColor,loading:a.cancel,disabled:e.cancelButtonDisabled,onClick:u},null),e.showConfirmButton&&m(ft,{type:"danger",text:e.confirmButtonText||ln("confirm"),class:sn("confirm"),color:e.confirmButtonColor,loading:a.confirm,disabled:e.confirmButtonDisabled,onClick:d},null)]}):m("div",{class:[Pe,sn("footer")]},[e.showCancelButton&&m(ct,{size:"large",text:e.cancelButtonText||ln("cancel"),class:sn("cancel"),style:{color:e.cancelButtonColor},loading:a.cancel,disabled:e.cancelButtonDisabled,onClick:u},null),e.showConfirmButton&&m(ct,{size:"large",text:e.confirmButtonText||ln("confirm"),class:[sn("confirm"),{[Re]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:a.confirm,disabled:e.confirmButtonDisabled,onClick:d},null)]);return()=>{const{width:t,title:n,theme:o,message:r,className:a}=e;return m(Ct,y({ref:i,role:"dialog",class:[sn([o]),a],style:{width:ge(t)},tabindex:0,"aria-labelledby":n||r,onKeydown:f,"onUpdate:show":s},$(e,un)),{default:()=>[p(),g(),v()]})}}});let fn;function pn(e){return U?new Promise(((t,n)=>{fn||function(){const e={setup(){const{state:e,toggle:t}=Vt();return()=>m(dn,y(e,{"onUpdate:show":t}),null)}};({instance:fn}=Ft(e))}(),fn.open(I({},pn.currentOptions,e,{callback:e=>{("confirm"===e?t:n)(e)}}))})):Promise.resolve()}pn.defaultOptions={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1},pn.currentOptions=I({},pn.defaultOptions),pn.alert=pn,pn.confirm=e=>pn(I({showCancelButton:!0},e)),pn.close=()=>{fn&&fn.toggle(!1)},pn.setDefaultOptions=e=>{I(pn.currentOptions,e)},pn.resetDefaultOptions=()=>{pn.currentOptions=I({},pn.defaultOptions)},pn.Component=De(dn),pn.install=e=>{e.use(pn.Component),e.config.globalProperties.$dialog=pn};function hn(e){return e.replace(/\n/g,"<br/>")}function mn(e){return 0==e.split(" ").join("").length}function gn(e){return/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)}var vn,yn={exports:{}},bn=function(e,t){return function(){for(var n=new Array(arguments.length),o=0;o<n.length;o++)n[o]=arguments[o];return e.apply(t,n)}},wn=bn,Sn=Object.prototype.toString,En=(vn=Object.create(null),function(e){var t=Sn.call(e);return vn[t]||(vn[t]=t.slice(8,-1).toLowerCase())});function On(e){return e=e.toLowerCase(),function(t){return En(t)===e}}function Cn(e){return Array.isArray(e)}function xn(e){return void 0===e}var kn=On("ArrayBuffer");function Bn(e){return null!==e&&"object"==typeof e}function Tn(e){if("object"!==En(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var An=On("Date"),Pn=On("File"),Rn=On("Blob"),_n=On("FileList");function jn(e){return"[object Function]"===Sn.call(e)}var Nn=On("URLSearchParams");function Ln(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),Cn(e))for(var n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}var Dn,In=(Dn="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return Dn&&e instanceof Dn}),Un={isArray:Cn,isArrayBuffer:kn,isBuffer:function(e){return null!==e&&!xn(e)&&null!==e.constructor&&!xn(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||Sn.call(e)===t||jn(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&kn(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:Bn,isPlainObject:Tn,isUndefined:xn,isDate:An,isFile:Pn,isBlob:Rn,isFunction:jn,isStream:function(e){return Bn(e)&&jn(e.pipe)},isURLSearchParams:Nn,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:Ln,merge:function e(){var t={};function n(n,o){Tn(t[o])&&Tn(n)?t[o]=e(t[o],n):Tn(n)?t[o]=e({},n):Cn(n)?t[o]=n.slice():t[o]=n}for(var o=0,r=arguments.length;o<r;o++)Ln(arguments[o],n);return t},extend:function(e,t,n){return Ln(t,(function(t,o){e[o]=n&&"function"==typeof t?wn(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,o){e.prototype=Object.create(t.prototype,o),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var o,r,i,a={};t=t||{};do{for(r=(o=Object.getOwnPropertyNames(e)).length;r-- >0;)a[i=o[r]]||(t[i]=e[i],a[i]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:En,kindOfTest:On,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var o=e.indexOf(t,n);return-1!==o&&o===n},toArray:function(e){if(!e)return null;var t=e.length;if(xn(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},isTypedArray:In,isFileList:_n},zn=Un;function $n(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Mn=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(zn.isURLSearchParams(t))o=t.toString();else{var r=[];zn.forEach(t,(function(e,t){null!=e&&(zn.isArray(e)?t+="[]":e=[e],zn.forEach(e,(function(e){zn.isDate(e)?e=e.toISOString():zn.isObject(e)&&(e=JSON.stringify(e)),r.push($n(t)+"="+$n(e))})))})),o=r.join("&")}if(o){var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e},Vn=Un;function Fn(){this.handlers=[]}Fn.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},Fn.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},Fn.prototype.forEach=function(e){Vn.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var Hn=Fn,qn=Un,Kn=Un;function Wn(e,t,n,o,r){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),o&&(this.request=o),r&&(this.response=r)}Kn.inherits(Wn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Jn=Wn.prototype,Xn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){Xn[e]={value:e}})),Object.defineProperties(Wn,Xn),Object.defineProperty(Jn,"isAxiosError",{value:!0}),Wn.from=function(e,t,n,o,r,i){var a=Object.create(Jn);return Kn.toFlatObject(e,a,(function(e){return e!==Error.prototype})),Wn.call(a,e.message,t,n,o,r),a.name=e.name,i&&Object.assign(a,i),a};var Yn=Wn,Zn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Qn=Un;var Gn=function(e,t){t=t||new FormData;var n=[];function o(e){return null===e?"":Qn.isDate(e)?e.toISOString():Qn.isArrayBuffer(e)||Qn.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(r,i){if(Qn.isPlainObject(r)||Qn.isArray(r)){if(-1!==n.indexOf(r))throw Error("Circular reference detected in "+i);n.push(r),Qn.forEach(r,(function(n,r){if(!Qn.isUndefined(n)){var a,s=i?i+"."+r:r;if(n&&!i&&"object"==typeof n)if(Qn.endsWith(r,"{}"))n=JSON.stringify(n);else if(Qn.endsWith(r,"[]")&&(a=Qn.toArray(n)))return void a.forEach((function(e){!Qn.isUndefined(e)&&t.append(s,o(e))}));e(n,s)}})),n.pop()}else t.append(i,o(r))}(e),t},eo=Yn,to=Un,no=to.isStandardBrowserEnv()?{write:function(e,t,n,o,r,i){var a=[];a.push(e+"="+encodeURIComponent(t)),to.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),to.isString(o)&&a.push("path="+o),to.isString(r)&&a.push("domain="+r),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},oo=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},ro=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},io=function(e,t){return e&&!oo(t)?ro(e,t):t},ao=Un,so=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],lo=Un,co=lo.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var o=e;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=lo.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0},uo=Yn;function fo(e){uo.call(this,null==e?"canceled":e,uo.ERR_CANCELED),this.name="CanceledError"}Un.inherits(fo,uo,{__CANCEL__:!0});var po=fo,ho=Un,mo=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(new eo("Request failed with status code "+n.status,[eo.ERR_BAD_REQUEST,eo.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)},go=no,vo=Mn,yo=io,bo=function(e){var t,n,o,r={};return e?(ao.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=ao.trim(e.substr(0,o)).toLowerCase(),n=ao.trim(e.substr(o+1)),t){if(r[t]&&so.indexOf(t)>=0)return;r[t]="set-cookie"===t?(r[t]?r[t]:[]).concat([n]):r[t]?r[t]+", "+n:n}})),r):r},wo=co,So=Zn,Eo=Yn,Oo=po,Co=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""},xo=function(e){return new Promise((function(t,n){var o,r=e.data,i=e.headers,a=e.responseType;function s(){e.cancelToken&&e.cancelToken.unsubscribe(o),e.signal&&e.signal.removeEventListener("abort",o)}ho.isFormData(r)&&ho.isStandardBrowserEnv()&&delete i["Content-Type"];var l=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",u=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.Authorization="Basic "+btoa(c+":"+u)}var d=yo(e.baseURL,e.url);function f(){if(l){var o="getAllResponseHeaders"in l?bo(l.getAllResponseHeaders()):null,r={data:a&&"text"!==a&&"json"!==a?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:o,config:e,request:l};mo((function(e){t(e),s()}),(function(e){n(e),s()}),r),l=null}}if(l.open(e.method.toUpperCase(),vo(d,e.params,e.paramsSerializer),!0),l.timeout=e.timeout,"onloadend"in l?l.onloadend=f:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(f)},l.onabort=function(){l&&(n(new Eo("Request aborted",Eo.ECONNABORTED,e,l)),l=null)},l.onerror=function(){n(new Eo("Network Error",Eo.ERR_NETWORK,e,l,l)),l=null},l.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",o=e.transitional||So;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new Eo(t,o.clarifyTimeoutError?Eo.ETIMEDOUT:Eo.ECONNABORTED,e,l)),l=null},ho.isStandardBrowserEnv()){var p=(e.withCredentials||wo(d))&&e.xsrfCookieName?go.read(e.xsrfCookieName):void 0;p&&(i[e.xsrfHeaderName]=p)}"setRequestHeader"in l&&ho.forEach(i,(function(e,t){void 0===r&&"content-type"===t.toLowerCase()?delete i[t]:l.setRequestHeader(t,e)})),ho.isUndefined(e.withCredentials)||(l.withCredentials=!!e.withCredentials),a&&"json"!==a&&(l.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&l.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(o=function(e){l&&(n(!e||e&&e.type?new Oo:e),l.abort(),l=null)},e.cancelToken&&e.cancelToken.subscribe(o),e.signal&&(e.signal.aborted?o():e.signal.addEventListener("abort",o))),r||(r=null);var h=Co(d);h&&-1===["http","https","file"].indexOf(h)?n(new Eo("Unsupported protocol "+h+":",Eo.ERR_BAD_REQUEST,e)):l.send(r)}))},ko=Un,Bo=function(e,t){qn.forEach(e,(function(n,o){o!==t&&o.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[o])}))},To=Yn,Ao=Gn,Po={"Content-Type":"application/x-www-form-urlencoded"};function Ro(e,t){!ko.isUndefined(e)&&ko.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var _o,jo={transitional:Zn,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(_o=xo),_o),transformRequest:[function(e,t){if(Bo(t,"Accept"),Bo(t,"Content-Type"),ko.isFormData(e)||ko.isArrayBuffer(e)||ko.isBuffer(e)||ko.isStream(e)||ko.isFile(e)||ko.isBlob(e))return e;if(ko.isArrayBufferView(e))return e.buffer;if(ko.isURLSearchParams(e))return Ro(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,o=ko.isObject(e),r=t&&t["Content-Type"];if((n=ko.isFileList(e))||o&&"multipart/form-data"===r){var i=this.env&&this.env.FormData;return Ao(n?{"files[]":e}:e,i&&new i)}return o||"application/json"===r?(Ro(t,"application/json"),function(e,t,n){if(ko.isString(e))try{return(t||JSON.parse)(e),ko.trim(e)}catch(o){if("SyntaxError"!==o.name)throw o}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||jo.transitional,n=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,r=!n&&"json"===this.responseType;if(r||o&&ko.isString(e)&&e.length)try{return JSON.parse(e)}catch(i){if(r){if("SyntaxError"===i.name)throw To.from(i,To.ERR_BAD_RESPONSE,this,null,this.response);throw i}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:null},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};ko.forEach(["delete","get","head"],(function(e){jo.headers[e]={}})),ko.forEach(["post","put","patch"],(function(e){jo.headers[e]=ko.merge(Po)}));var No=jo,Lo=Un,Do=No,Io=function(e){return!(!e||!e.__CANCEL__)},Uo=Un,zo=function(e,t,n){var o=this||Do;return Lo.forEach(n,(function(n){e=n.call(o,e,t)})),e},$o=Io,Mo=No,Vo=po;function Fo(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Vo}var Ho=Un,qo=function(e,t){t=t||{};var n={};function o(e,t){return Ho.isPlainObject(e)&&Ho.isPlainObject(t)?Ho.merge(e,t):Ho.isPlainObject(t)?Ho.merge({},t):Ho.isArray(t)?t.slice():t}function r(n){return Ho.isUndefined(t[n])?Ho.isUndefined(e[n])?void 0:o(void 0,e[n]):o(e[n],t[n])}function i(e){if(!Ho.isUndefined(t[e]))return o(void 0,t[e])}function a(n){return Ho.isUndefined(t[n])?Ho.isUndefined(e[n])?void 0:o(void 0,e[n]):o(void 0,t[n])}function s(n){return n in t?o(e[n],t[n]):n in e?o(void 0,e[n]):void 0}var l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s};return Ho.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=l[e]||r,o=t(e);Ho.isUndefined(o)&&t!==s||(n[e]=o)})),n},Ko="0.27.2",Wo=Ko,Jo=Yn,Xo={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){Xo[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var Yo={};Xo.transitional=function(e,t,n){function o(e,t){return"[Axios v"+Wo+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,i){if(!1===e)throw new Jo(o(r," has been removed"+(t?" in "+t:"")),Jo.ERR_DEPRECATED);return t&&!Yo[r]&&(Yo[r]=!0,console.warn(o(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,i)}};var Zo=Un,Qo=Mn,Go=Hn,er=function(e){return Fo(e),e.headers=e.headers||{},e.data=zo.call(e,e.data,e.headers,e.transformRequest),e.headers=Uo.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),Uo.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||Mo.adapter)(e).then((function(t){return Fo(e),t.data=zo.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return $o(t)||(Fo(e),t&&t.response&&(t.response.data=zo.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},tr=qo,nr=io,or={assertOptions:function(e,t,n){if("object"!=typeof e)throw new Jo("options must be an object",Jo.ERR_BAD_OPTION_VALUE);for(var o=Object.keys(e),r=o.length;r-- >0;){var i=o[r],a=t[i];if(a){var s=e[i],l=void 0===s||a(s,i,e);if(!0!==l)throw new Jo("option "+i+" must be "+l,Jo.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Jo("Unknown option "+i,Jo.ERR_BAD_OPTION)}},validators:Xo},rr=or.validators;function ir(e){this.defaults=e,this.interceptors={request:new Go,response:new Go}}ir.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=tr(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&or.assertOptions(n,{silentJSONParsing:rr.transitional(rr.boolean),forcedJSONParsing:rr.transitional(rr.boolean),clarifyTimeoutError:rr.transitional(rr.boolean)},!1);var o=[],r=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(r=r&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));var i,a=[];if(this.interceptors.response.forEach((function(e){a.push(e.fulfilled,e.rejected)})),!r){var s=[er,void 0];for(Array.prototype.unshift.apply(s,o),s=s.concat(a),i=Promise.resolve(t);s.length;)i=i.then(s.shift(),s.shift());return i}for(var l=t;o.length;){var c=o.shift(),u=o.shift();try{l=c(l)}catch(d){u(d);break}}try{i=er(l)}catch(d){return Promise.reject(d)}for(;a.length;)i=i.then(a.shift(),a.shift());return i},ir.prototype.getUri=function(e){e=tr(this.defaults,e);var t=nr(e.baseURL,e.url);return Qo(t,e.params,e.paramsSerializer)},Zo.forEach(["delete","get","head","options"],(function(e){ir.prototype[e]=function(t,n){return this.request(tr(n||{},{method:e,url:t,data:(n||{}).data}))}})),Zo.forEach(["post","put","patch"],(function(e){function t(t){return function(n,o,r){return this.request(tr(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:o}))}}ir.prototype[e]=t(),ir.prototype[e+"Form"]=t(!0)}));var ar=ir,sr=po;function lr(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,o=n._listeners.length;for(t=0;t<o;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,o=new Promise((function(e){n.subscribe(e),t=e})).then(e);return o.cancel=function(){n.unsubscribe(t)},o},e((function(e){n.reason||(n.reason=new sr(e),t(n.reason))}))}lr.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},lr.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},lr.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},lr.source=function(){var e;return{token:new lr((function(t){e=t})),cancel:e}};var cr=lr,ur=Un,dr=Un,fr=bn,pr=ar,hr=qo;var mr=function e(t){var n=new pr(t),o=fr(pr.prototype.request,n);return dr.extend(o,pr.prototype,n),dr.extend(o,n),o.create=function(n){return e(hr(t,n))},o}(No);mr.Axios=pr,mr.CanceledError=po,mr.CancelToken=cr,mr.isCancel=Io,mr.VERSION=Ko,mr.toFormData=Gn,mr.AxiosError=Yn,mr.Cancel=mr.CanceledError,mr.all=function(e){return Promise.all(e)},mr.spread=function(e){return function(t){return e.apply(null,t)}},mr.isAxiosError=function(e){return ur.isObject(e)&&!0===e.isAxiosError},yn.exports=mr,yn.exports.default=mr;var gr=yn.exports,vr=Object.freeze(Object.defineProperty({__proto__:null,default:{env:"development",mock:!0,title:"开发",baseUrl:"",baseApi:"/webapi",APPID:"xxx",APPSECRET:"xxx",$cdn:"https://imgs.solui.cn"}},Symbol.toStringTag,{value:"Module"})),yr=Object.freeze(Object.defineProperty({__proto__:null,default:{env:"production",mock:!0,title:"生产",baseUrl:"",baseApi:"",APPID:"xxx",APPSECRET:"xxx",$cdn:"https://imgs.solui.cn"}},Symbol.toStringTag,{value:"Module"})),br=Object.freeze(Object.defineProperty({__proto__:null,default:{env:"test",mock:!1,title:"测试",baseUrl:"https://janaeiw.github.io/beautiful-chat-webSocket/",baseApi:"https://testnew.wisight.cn/webapi/",APPID:"xxx",APPSECRET:"xxx",$cdn:"https://imgs.solui.cn"}},Symbol.toStringTag,{value:"Module"}));const wr={},Sr={"./env.development.ts":vr,"./env.production.ts":yr,"./env.test.ts":br};Object.entries(Sr).forEach((([e,t])=>{const n=e.replace(/\.\/env\.(.*)\.ts$/,"$1");wr[n]=t}));const Er=wr.test.default;console.log("根据环境引入不同配置",Er);const Or=gr.create({baseURL:Er.baseApi,timeout:5e3,withCredentials:!1});function Cr(e){return Or({url:"/login",method:"POST",data:e,loading:!0})}var xr;Or.interceptors.request.use((e=>(e.loading&&on.loading({message:"加载中...",forbidClick:!0,duration:0}),e)),(e=>(console.log(e),Promise.reject(e)))),Or.interceptors.response.use((async e=>{on.clear();const t=e.data;if(0!==t.retcode){if(401===t.retcode)return;return 403==t.retcode?void pn.alert({title:"警告",message:t.msg}):Promise.reject(new Error(t.msg||"Error"))}return Promise.resolve(t)}),(e=>{if(on.clear(),e&&e.response)switch(e.response.status){case 400:e.message="请求错误(400)";break;case 401:e.message="未授权,请登录(401)";break;case 403:e.message="拒绝访问(403)";break;case 404:e.message=`请求地址出错: ${e.response.config.url}`;break;case 405:e.message="请求方法未允许(405)";break;case 408:e.message="请求超时(408)";break;case 500:e.message="服务器内部错误(500)";break;case 501:e.message="服务未实现(501)";break;case 502:e.message="网络错误(502)";break;case 503:e.message="服务不可用(503)";break;case 504:e.message="网络超时(504)";break;case 505:e.message="HTTP版本不受支持(505)";break;default:e.message=`连接错误: ${e.message}`}else"Network Error"==e.message&&e.message,e.message="连接到服务器失败，请联系管理员";return on.fail(e.message),Promise.reject(e)}));"undefined"!=typeof window&&(null==(xr=null==window?void 0:window.navigator)?void 0:xr.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);
/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */
var kr=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var n={},o=t||{},r=e.split(";"),i=o.decode||Tr,a=0;a<r.length;a++){var s=r[a],l=s.indexOf("=");if(!(l<0)){var c=s.substring(0,l).trim();if(null==n[c]){var u=s.substring(l+1,s.length).trim();'"'===u[0]&&(u=u.slice(1,-1)),n[c]=Rr(u,i)}}}return n},Br=function(e,t,n){var o=n||{},r=o.encode||Ar;if("function"!=typeof r)throw new TypeError("option encode is invalid");if(!Pr.test(e))throw new TypeError("argument name is invalid");var i=r(t);if(i&&!Pr.test(i))throw new TypeError("argument val is invalid");var a=e+"="+i;if(null!=o.maxAge){var s=o.maxAge-0;if(isNaN(s)||!isFinite(s))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(s)}if(o.domain){if(!Pr.test(o.domain))throw new TypeError("option domain is invalid");a+="; Domain="+o.domain}if(o.path){if(!Pr.test(o.path))throw new TypeError("option path is invalid");a+="; Path="+o.path}if(o.expires){if("function"!=typeof o.expires.toUTCString)throw new TypeError("option expires is invalid");a+="; Expires="+o.expires.toUTCString()}o.httpOnly&&(a+="; HttpOnly");o.secure&&(a+="; Secure");if(o.sameSite){switch("string"==typeof o.sameSite?o.sameSite.toLowerCase():o.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a},Tr=decodeURIComponent,Ar=encodeURIComponent,Pr=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Rr(e,t){try{return t(e)}catch(n){return e}}function _r(e,t){void 0===t&&(t={});var n=function(e){if(e&&"j"===e[0]&&":"===e[1])return e.substr(2);return e}(e);if(function(e,t){return void 0===t&&(t=!e||"{"!==e[0]&&"["!==e[0]&&'"'!==e[0]),!t}(n,t.doNotParse))try{return JSON.parse(n)}catch(o){}return e}var jr=globalThis&&globalThis.__assign||function(){return jr=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},jr.apply(this,arguments)},Nr=function(){function e(e,t){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function(e,t){return"string"==typeof e?kr(e,t):"object"==typeof e&&null!==e?e:{}}(e,t),new Promise((function(){n.HAS_DOCUMENT_COOKIE="object"==typeof document&&"string"==typeof document.cookie})).catch((function(){}))}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=kr(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,n){return void 0===t&&(t={}),this._updateBrowserValues(n),_r(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var n={};for(var o in this.cookies)n[o]=_r(this.cookies[o],e);return n},e.prototype.set=function(e,t,n){var o;"object"==typeof t&&(t=JSON.stringify(t)),this.cookies=jr(jr({},this.cookies),((o={})[e]=t,o)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=Br(e,t,n)),this._emitChange({name:e,value:t,options:n})},e.prototype.remove=function(e,t){var n=t=jr(jr({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=jr({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=Br(e,"",n)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}(),Lr=Object.defineProperty,Dr=Object.getOwnPropertySymbols,Ir=Object.prototype.hasOwnProperty,Ur=Object.prototype.propertyIsEnumerable,zr=(e,t,n)=>t in e?Lr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$r=(e,t)=>{for(var n in t||(t={}))Ir.call(t,n)&&zr(e,n,t[n]);if(Dr)for(var n of Dr(t))Ur.call(t,n)&&zr(e,n,t[n]);return e};function Mr(e,{doNotParse:t=!1,autoUpdateDependencies:n=!1}={},r=new Nr){const i=n?[...e||[]]:e;let a=r.getAll({doNotParse:!0});const s=o(0),l=()=>{const e=r.getAll({doNotParse:!0});(function(e,t,n){if(!e)return!0;for(const o of e)if(t[o]!==n[o])return!0;return!1})(i||null,e,a)&&s.value++,a=e};var c;return r.addChangeListener(l),c=()=>{r.removeChangeListener(l)},T()&&A(c),{get:(...e)=>(n&&i&&!i.includes(e[0])&&i.push(e[0]),s.value,r.get(e[0],$r({doNotParse:t},e[1]))),getAll:(...e)=>(s.value,r.getAll($r({doNotParse:t},e[0]))),set:(...e)=>r.set(...e),remove:(...e)=>r.remove(...e),addChangeListener:(...e)=>r.addChangeListener(...e),removeChangeListener:(...e)=>r.removeChangeListener(...e)}}const{VITE_TOKEN_KEY:Vr}={VITE_TOKEN_KEY:"tokenKey",VITE_URL_PREFIX:"/api",VITE_ENV:"test",VITE_OUTPUT_DIR:"frontend_test",VITE_PUBLIC_PATH:"./",VITE_API_BASE_URL:"/webapi",VITE_API_TARGET_URL:"https://testnew.wisight.cn/webapi",VITE_USE_MOCK:"true",BASE_URL:"./",MODE:"test",DEV:!0,PROD:!1},Fr=Mr().get(Vr),Hr=Mr().get("sessionKey"),qr=P({id:"app-user",state:()=>({token:Fr,info:{},sessionKey:Hr}),getters:{getUserInfo(){return this.info||{}},getUserSessionKey(){return this.sessionKey||""}},actions:{setInfo(e){return new Promise((t=>{this.info=e||{},t("success")}))},login(e){return new Promise((t=>{var n;(n=e,Or({url:"/api/login",method:"POST",data:n})).then((e=>{this.setInfo(e.result),Mr().set(Vr,e.result.author),t(e.value)}))}))},setSessionKey:e=>new Promise((t=>{Mr().set("sessionKey",e),t("success")}))}});export{je as A,ct as B,gn as C,Mt as F,tt as I,at as L,Ct as P,on as T,ge as a,R as b,Te as c,q as d,Fe as e,oe as f,X as g,me as h,U as i,I as j,V as k,j as l,K as m,F as n,Ft as o,pt as p,Vt as q,qr as r,Rt as s,H as t,le as u,Mr as v,De as w,mn as x,hn as y,Cr as z};
